# 블로그 글 작성 기능 기획안

## 1. 기능 개요

### 1.1 목표
- Gemini AI를 활용한 블로그 글 자동 생성 기능
- 4단계 워크플로우를 통한 체계적인 글 작성 프로세스
- 사용자 맞춤형 스타일 및 구조화된 콘텐츠 생성

### 1.2 핵심 기능
- **자료 조사**: 주제에 대한 정보 수집 및 분석
- **글 구성**: 상세한 기획안(아웃라인) 생성
- **본문 작성**: 섹션별 본문 내용 생성
- **검색 최적화**: SEO 최적화 및 메타데이터 생성
- **스타일 관리**: 글쓰기 스타일 정의 및 적용
- **내보내기**: 다양한 형식으로 콘텐츠 내보내기

### 1.3 용어 설명
- **TL;DR (Too Long; Didn't Read)**: "너무 길어서 안 읽었다"라는 뜻의 인터넷 용어. 긴 글의 **핵심만 2~3문장으로 요약한 부분**을 말합니다. 독자가 빠르게 글의 요지를 파악할 수 있도록 글 상단에 배치하는 짧은 요약문이며, 블로그·기사에서 흔히 쓰입니다.

---

## 2. 워크플로우 설계

### 2.1 4단계 프로세스

```
[1단계: 자료 조사] → [2단계: 글 구성] → [3단계: 본문 작성] → [4단계: 검색 최적화]
```

#### 1단계: 자료 조사 (Research)
- **목적**: 주제에 대한 정보 수집 및 분석
- **입력**: 
  - 주제 (필수)
  - 검색 키워드 (선택)
  - 참고 링크 (최대 3개, 선택)
- **Gemini 작업**:
  - 주제 분석 및 관련 정보 수집
  - 참고 링크 내용 요약 (있는 경우)
  - 핵심 키워드 추출
- **출력**:
  - 수집된 정보 요약
  - 관련 키워드 목록
  - 참고 자료 요약

#### 2단계: 글 구성 (Outline)
- **목적**: 상세한 글 구조 및 기획안 생성
- **입력**:
  - 1단계에서 수집된 정보
  - 글 작성 언어 (한국어/영어 등)
  - 글 분위기 (전문적/캐주얼/친근함 등)
  - 대상 독자
  - 원하는 분량 (단어 수)
- **Gemini 작업**:
  - 논리적 구조의 목차 생성
  - 각 섹션별 핵심 내용 요약
  - 글 제목 제안
- **출력** (JSON 형식):
  ```json
  {
    "title": "블로그 글 제목",
    "summary": "짧은 설명",
    "outline": [
      {
        "sectionNumber": 1,
        "sectionTitle": "섹션 제목",
        "keyPoints": ["핵심 포인트 1", "핵심 포인트 2"],
        "estimatedLength": 300
      }
    ],
    "tags": ["태그1", "태그2"],
    "targetAudience": "대상 독자",
    "tone": "글 분위기"
  }
  ```
- **사용자 액션**: 기획안 검토 및 수정 후 "이대로 진행" 또는 "수정하기"

#### 3단계: 본문 작성 (Body Writing)
- **목적**: 섹션별 상세 본문 생성 및 TL;DR 요약 생성
- **입력**:
  - 2단계에서 확정된 기획안
  - 추가 지시사항 (선택)
- **Gemini 작업**:
  - 각 섹션별로 순차적 또는 병렬 생성
  - 섹션 간 연결성 유지
  - 자연스러운 문체로 작성
  - **본문 완성 후 TL;DR 생성**: 전체 글의 핵심을 2-3문장으로 요약
- **출력**:
  ```json
  {
    "sections": [
      {
        "sectionNumber": 1,
        "sectionTitle": "섹션 제목",
        "content": "본문 내용 (HTML 또는 마크다운)",
        "wordCount": 350
      }
    ],
    "totalWordCount": 2000,
    "tldr": "TL;DR 요약 (Too Long; Didn't Read - 글의 핵심을 2-3문장으로 요약)"
  }
  ```
- **진행 표시**: "0/6" 형태로 진행률 표시
- **사용자 액션**: 섹션별 수정 가능, TL;DR 수정 가능

#### 4단계: 검색 최적화 (SEO)
- **목적**: SEO 메타데이터 및 최적화
- **입력**: 완성된 본문
- **Gemini 작업**:
  - 메타 설명 생성
  - SEO 키워드 추출 및 배치
  - 제목 최적화 제안
  - 이미지 alt 텍스트 제안
- **출력**:
  ```json
  {
    "metaDescription": "메타 설명",
    "focusKeywords": ["키워드1", "키워드2"],
    "titleSuggestion": "SEO 최적화된 제목",
    "imageAltTexts": ["이미지 설명 1", "이미지 설명 2"],
    "internalLinks": ["내부 링크 제안 1"],
    "externalLinks": ["외부 링크 제안 1"]
  }
  ```

---

## 3. Gemini API 활용 전략

### 3.1 모델 선택
- **블로그 글 작성 전 단계(자료 조사, 글 구성, 본문 작성, 검색 최적화)**: **`gemini-2.5-pro`** 사용. Flash가 아닌 Pro 모델로 통일하여 고품질·긴 글·복잡한 구조에 대응합니다.
- **대표 이미지 컨셉 등 이미지 생성**: `gemini-2.5-pro-image-preview` 또는 `gemini-3-pro-image-preview` (이미지 전용 모델)
- **참고**: 구현 시 API 호출에 `models/gemini-2.5-pro`(또는 사용 중인 Pro 엔드포인트)를 사용하고, Flash 모델은 블로그 글 작성 기능에서는 사용하지 않습니다.

### 3.2 프롬프트 구조

#### 1단계 프롬프트 예시:
```
당신은 전문 블로그 콘텐츠 리서처입니다. 다음 주제에 대한 자료를 조사하고 핵심 정보를 추출해주세요.

주제: {topic}
검색 키워드: {keywords}
참고 링크: {referenceLinks}

다음 형식으로 JSON으로 출력해주세요:
{
  "summary": "수집된 정보 요약 (200-300자)",
  "keyPoints": ["핵심 포인트 1", "핵심 포인트 2", ...],
  "relatedKeywords": ["키워드1", "키워드2", ...],
  "referenceSummaries": [
    {"url": "링크", "summary": "요약"}
  ]
}
```

#### 2단계 프롬프트 예시:
```
당신은 전문 블로그 기획자입니다. 다음 정보를 바탕으로 상세한 블로그 글 기획안을 작성해주세요.

[수집된 정보]
{researchData}

[요구사항]
- 언어: {language}
- 분위기: {tone}
- 대상 독자: {targetAudience}
- 목표 분량: {targetWordCount}자

다음 형식으로 JSON으로 출력해주세요:
{
  "title": "매력적이고 SEO 친화적인 제목",
  "summary": "글에 대한 짧은 설명 (100-150자)",
  "outline": [
    {
      "sectionNumber": 1,
      "sectionTitle": "섹션 제목",
      "keyPoints": ["핵심 포인트 배열"],
      "estimatedLength": 300
    }
  ],
  "tags": ["태그1", "태그2", ...],
  "targetAudience": "대상 독자",
  "tone": "글 분위기"
}

규칙:
- 논리적 흐름을 가진 구조로 작성
- 각 섹션은 독립적으로 읽을 수 있으면서도 전체와 연결되어야 함
- SEO를 고려한 키워드 자연스럽게 포함
```

#### 3단계 프롬프트 예시:
```
당신은 전문 블로그 작가입니다. 다음 기획안을 바탕으로 섹션 {sectionNumber}의 상세 본문을 작성해주세요.

[기획안]
{outline}

[현재 섹션]
섹션 {sectionNumber}: {sectionTitle}
핵심 포인트: {keyPoints}

[추가 지시사항]
{additionalInstructions}

다음 형식으로 JSON으로 출력해주세요:
{
  "sectionNumber": {sectionNumber},
  "sectionTitle": "{sectionTitle}",
  "content": "본문 내용 (HTML 형식, <h2>, <h3>, <p>, <ul>, <ol> 태그 사용)",
  "wordCount": 350
}

규칙:
- 자연스럽고 읽기 쉬운 문체로 작성
- 이전 섹션과의 연결성 유지
- 핵심 포인트를 모두 다루되 자연스럽게 통합
- 한국어의 경우 정확한 맞춤법과 띄어쓰기 준수
```

#### TL;DR 생성 프롬프트 (본문 완성 후):
```
당신은 전문 콘텐츠 요약가입니다. 다음 블로그 글의 핵심 내용을 2-3문장으로 간결하게 요약해주세요.

[블로그 글 제목]
{title}

[전체 본문]
{fullContent}

다음 형식으로 JSON으로 출력해주세요:
{
  "tldr": "TL;DR 요약 (2-3문장, 100-150자 내외)"
}

규칙:
- 글의 핵심 메시지만 포함
- 독자가 빠르게 글의 가치를 파악할 수 있도록 작성
- 간결하고 명확하게
```

### 3.3 에러 처리 및 재시도
- **타임아웃**: 60초
- **재시도**: 최대 3회 (지수 백오프)
- **폴백**: 간단한 구조로 재생성

---

## 4. 데이터 구조 설계

### 4.1 블로그 글 데이터 모델

```javascript
const blogPost = {
  id: "unique-id",
  title: "블로그 글 제목",
  status: "draft" | "writing" | "completed",
  createdAt: "2026-02-18",
  updatedAt: "2026-02-18",
  
  // 1단계: 자료 조사
  research: {
    topic: "주제",
    keywords: ["키워드1", "키워드2"],
    referenceLinks: ["url1", "url2"],
    summary: "수집된 정보 요약",
    keyPoints: ["포인트1", "포인트2"],
    relatedKeywords: ["키워드1", "키워드2"]
  },
  
  // 2단계: 글 구성
  outline: {
    title: "최종 제목",
    summary: "짧은 설명",
    sections: [
      {
        sectionNumber: 1,
        sectionTitle: "섹션 제목",
        keyPoints: ["포인트1", "포인트2"],
        estimatedLength: 300
      }
    ],
    tags: ["태그1", "태그2"],
    targetAudience: "대상 독자",
    tone: "글 분위기",
    language: "한국어",
    targetWordCount: 2000
  },
  
  // 3단계: 본문 작성
  content: {
    sections: [
      {
        sectionNumber: 1,
        sectionTitle: "섹션 제목",
        content: "<h2>...</h2><p>...</p>",
        wordCount: 350
      }
    ],
    totalWordCount: 2000,
    tldr: "TL;DR 요약 (Too Long; Didn't Read - 글의 핵심을 2-3문장으로 요약한 부분)"
  },
  
  // 4단계: 검색 최적화
  seo: {
    metaDescription: "메타 설명",
    focusKeywords: ["키워드1", "키워드2"],
    titleSuggestion: "SEO 제목",
    imageAltTexts: ["이미지 설명"],
    internalLinks: ["링크 제안"],
    externalLinks: ["외부 링크"]
  },
  
  // 메타데이터
  thumbnail: "대표 이미지 URL",
  styleId: "글쓰기 스타일 ID"
};
```

### 4.2 글쓰기 스타일 모델

```javascript
const writingStyle = {
  id: "unique-id",
  name: "스타일 이름",
  description: "스타일 설명",
  samples: [
    {
      type: "url" | "text",
      content: "URL 또는 텍스트",
      summary: "요약"
    }
  ],
  analyzedFeatures: {
    tone: "분위기",
    sentenceLength: "평균 문장 길이",
    paragraphStructure: "문단 구조",
    keywordDensity: "키워드 밀도"
  }
};
```

---

## 5. UI/UX 설계

### 5.1 네비게이션
- **사이드바 메뉴**: "블로그 글 작성" 추가
- **홈 화면 카드**: "콘텐츠 제작" 카드에 "블로그" 서브 버튼 추가 (선택사항)

### 5.2 메인 화면 구조

#### 5.2.1 글 목록 화면
- **탭**: 전체 / 초안 / 작성 중 / 완료 / 보관됨
- **카드 형태**: 제목, 상태, 날짜, 썸네일
- **액션**: 새 글 작성 버튼

#### 5.2.2 글 작성 화면
- **상단**: 진행 단계 표시 (4단계)
- **중앙**: 현재 단계별 콘텐츠 영역
- **우측**: 미리보기 또는 도구 패널

### 5.3 단계별 UI

#### 1단계: 자료 조사
```
[입력 영역]
- 주제 입력 (필수)
- 검색 키워드 입력 (선택, Enter로 추가)
- 참고 링크 입력 (최대 3개, + URL 버튼)

[생성 버튼]
"자료 조사 시작"

[결과 영역]
- 수집된 정보 요약
- 핵심 포인트 목록
- 관련 키워드 목록
```

#### 2단계: 글 구성
```
[입력 영역]
- 글 작성 언어 (드롭다운)
- 글 분위기 (드롭다운)
- 대상 독자 (입력)
- 원하는 분량 (슬라이더)

[생성 버튼]
"글 구성 생성"

[결과 영역]
- 제목
- 요약
- 목차 (섹션별 핵심 포인트)
- 태그

[액션 버튼]
"수정하기" / "이대로 진행"
```

#### 3단계: 본문 작성
```
[진행 표시]
"0/6" (현재 섹션/전체 섹션)

[섹션 선택]
- 섹션별 버튼 (선택 가능)
- 현재 작성 중인 섹션 강조

[본문 영역]
- 섹션별 본문 표시
- 수정 가능 (contenteditable 또는 텍스트 에리어)

[생성 버튼]
"본문 생성" (전체) 또는 "이 섹션만 생성"
```

#### 4단계: 검색 최적화
```
[결과 표시]
- 메타 설명
- SEO 키워드
- 제목 제안
- 이미지 alt 텍스트

[수정 가능]
- 각 항목 수정 가능

[완료 버튼]
"글 작성 완료"
```

### 5.4 최종 글 보기 화면
- **헤더**: 제목, 상태, 날짜, 액션 버튼 (편집/내보내기/삭제)
- **썸네일**: 대표 이미지
- **요약**: 짧은 설명
- **태그**: 키워드 태그
- **TL;DR**: 요약 박스 (파란색 배경 박스로 강조 표시)
- **목차**: Table of Contents (클릭 시 해당 섹션으로 이동)
- **본문**: 섹션별 본문

### 5.5 내보내기 모달
- **탭**: 텍스트로 복사 / 웹용 코드 복사
- **내용**: TL;DR + 목차 + 본문 (HTML 형식)
- **버튼**: 복사하기

---

## 6. 기술적 고려사항

### 6.1 프론트엔드
- **상태 관리**: 각 단계별 데이터 저장
- **로컬 스토리지**: 초안 자동 저장
- **에디터**: contenteditable 또는 마크다운 에디터
- **진행률 표시**: 단계별 진행 상황 시각화

### 6.2 백엔드 (선택사항)
- **API 엔드포인트**: `/api/blog/generate`
- **저장소**: 로컬 스토리지 또는 서버 DB
- **파일 내보내기**: HTML, Markdown, PDF

### 6.3 성능 최적화
- **스트리밍**: 긴 응답의 경우 스트리밍 처리
- **캐싱**: 스타일 분석 결과 캐싱
- **병렬 처리**: 섹션별 병렬 생성 (선택사항)

---

## 7. 구현 순서

### Phase 1: 기본 구조
1. 네비게이션 메뉴 추가
2. 글 목록 화면 기본 UI
3. 새 글 작성 버튼 및 기본 폼

### Phase 2: 1단계 구현 (자료 조사)
1. 입력 폼 UI
2. Gemini API 호출 로직
3. 결과 표시 UI

### Phase 3: 2단계 구현 (글 구성)
1. 입력 폼 UI (언어, 분위기, 대상 독자, 분량)
2. Gemini API 호출 로직
3. 기획안 표시 및 수정 UI
4. "이대로 진행" / "수정하기" 액션

### Phase 4: 3단계 구현 (본문 작성)
1. 진행률 표시 UI
2. 섹션별 선택 UI
3. Gemini API 호출 로직 (섹션별 또는 전체)
4. 본문 표시 및 수정 UI

### Phase 5: 4단계 구현 (검색 최적화)
1. SEO 결과 표시 UI
2. 수정 기능
3. 완료 처리

### Phase 6: 최종 화면 및 내보내기
1. 최종 글 보기 화면
2. 내보내기 모달
3. 텍스트/HTML 복사 기능

### Phase 7: 고급 기능 (선택사항)
1. 글쓰기 스타일 관리
2. 스타일 분석 기능
3. 대표 이미지 생성
4. 자동 저장 기능

---

## 8. Gemini 프롬프트 최적화 전략

### 8.1 구조화된 출력
- **JSON 형식**: `responseMimeType: 'application/json'` 사용
- **명확한 스키마**: 각 단계별 출력 형식 명확히 정의
- **에러 처리**: JSON 파싱 실패 시 폴백 로직

### 8.2 한국어 최적화
- **명시적 지시**: "한국어로 작성", "정확한 맞춤법과 띄어쓰기"
- **예시 제공**: 좋은 예시와 나쁜 예시 제시
- **검증**: 생성된 텍스트의 기본적인 문법 검증

### 8.3 품질 향상
- **Few-shot 예시**: 프롬프트에 예시 포함
- **단계별 검증**: 각 단계에서 품질 확인
- **사용자 피드백**: 수정 요청 반영

---

## 9. 예상 이슈 및 해결 방안

### 9.1 긴 응답 시간
- **해결**: 스트리밍 또는 진행률 표시
- **대안**: 섹션별 분할 생성

### 9.2 JSON 파싱 실패
- **해결**: 재시도 로직 및 폴백
- **대안**: 텍스트 파싱으로 대체

### 9.3 한국어 품질
- **해결**: 명시적 프롬프트 및 예시
- **대안**: 후처리 검증 로직

### 9.4 스타일 일관성
- **해결**: 스타일 분석 및 적용
- **대안**: 프롬프트에 스타일 가이드 포함

---

## 10. 향후 확장 가능성

1. **협업 기능**: 여러 사용자가 함께 편집
2. **템플릿**: 미리 정의된 글 구조 템플릿
3. **AI 이미지 생성**: 섹션별 이미지 자동 생성
4. **다국어 지원**: 여러 언어로 번역
5. **통계 분석**: 글 성과 분석
6. **CMS 연동**: WordPress, Notion 등 직접 발행

---

## 결론

이 기획안은 Gemini AI를 활용한 블로그 글 작성 기능의 전체적인 구조와 구현 방향을 제시합니다. 단계별로 나누어 구현하면 사용자 피드백을 받으며 점진적으로 개선할 수 있습니다. 특히 2단계(글 구성)에서 사용자가 기획안을 검토하고 수정할 수 있는 부분이 핵심 UX 포인트입니다.
